(function(){"use strict";self.onmessage=function(t){v.transcode(t.data)};let v={transcode(t){let a=v.to16kHz(t);a=v.to16BitPCM(a),a=Array.from(new Uint8Array(a.buffer)),self.postMessage(a)},to16kHz(t){var a=new Float32Array(t),o=Math.round(a.length*(16e3/44100)),r=new Float32Array(o),f=(a.length-1)/(o-1);r[0]=a[0];for(let l=1;l<o-1;l++){var e=l*f,n=Math.floor(e).toFixed(),s=Math.ceil(e).toFixed(),i=e-n;r[l]=a[n]+(a[s]-a[n])*i}return r[o-1]=a[a.length-1],r},to16BitPCM(t){for(var a=t.length*2,o=new ArrayBuffer(a),r=new DataView(o),f=0,e=0;e<t.length;e++,f+=2){var n=Math.max(-1,Math.min(1,t[e]));r.setInt16(f,n<0?n*32768:n*32767,!0)}return r}}})();
